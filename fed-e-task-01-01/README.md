# fed-e-task-01-01

# 模块一：函数式编程与 JS 异步编程、手写 Promise

## 简答题

一、谈谈你是如何理解JS异步编程的，EventLoop、消息队列都是做什么的，什么是宏任务，什么是微任务？

答：JS语言本身并不支持多线程，而是通过EventLoop和消息队列的配合进行异步编程。
当程序运行遇到同步任务，就将同步放到主线程运行，若遇到异步任务时，会将异步任务放进Web API。  
当异步任务满足触发条件，如setTimeout计时结束，异步任务将回调函数推进消息队列。  
直到主线程空闲，程序才会读消息队列任务，并放进主线程执行。  
像上述一样，程序不断从任务队列读取执行任务的运行机制，就叫EventLoop。
  
消息队列有两种，一种是宏任务队列，一种是微任务队列，每次执行宏任务之前，程序都会查看微任务队列是否还有未执行的微任务，如果有，优先执行微任务队列的任务。  
new Promise()里的执行器会立即执行，但then()方法不会立即执行，会放入消息队列，属于微任务。  
setTimeout()属于宏任务，所以如果程序里有没执行的then()，setTimeout在then()之后执行，即使setTimeout的计时早就完成。 

## 
  ![](https://user-gold-cdn.xitu.io/2018/1/19/1610c39513d6dde2)
